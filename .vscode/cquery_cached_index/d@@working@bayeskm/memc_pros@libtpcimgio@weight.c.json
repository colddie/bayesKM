16
{"last_modification_time":1566506070,"language":1,"import_file":"d:/working/bayeskm/memc_pros/libtpcimgio/weight.c","args_hash":10677345612752838919,"includes":[],"dependencies":[],"skipped_by_preprocessor":[],"types":[{"id":0,"usr":17,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[0,2,5,7,10,11,13,15,18,20,23,24,25,26],"uses":[]},{"id":1,"usr":22,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[1,3,4,6,8,9,12,14,16,17,19,21,22,27,28],"uses":[]}],"funcs":[{"id":0,"usr":10680473347740170379,"detailed_name":"void sifWeight(int *data, double halflife)","short_name_offset":5,"short_name_size":9,"kind":12,"storage":1,"hover":"","comments":"\n@brief Calculate weights for frames in SIF data based on true counts. \nWeights are normalized to have an average of 1.0.\n\n@details Weights are calculated from formula\nweight=(frame duration)^2 / (trues in a frame).\nBefore calling this routine, trues must be calculated as total counts -\nrandoms.\nCounts in SIF are not corrected for physical decay. Therefore, isotope\nhalflife must be known, if weights are to be calculated for decay\ncorrected TACs. Isotope halflife must be set to 0, if weights are used\nfor TACs that are not corrected for decay.\n\nReference: Mazoyer BM, Huesman RH, Budinger TF, Knittel BL. \nDynamic PET data analysis. J Comput Assist Tomogr 1986; 10:645-653.\n\n@sa sifInit, sifRead, sifWrite, sifEmpty, sifModerateTrues, sifModerateWeights,\nsifExistentCounts, sifWeightByFrames, dftWeightByFreq, dftDecayCorrection","declarations":[],"spell":"28:6-28:15|-1|1|2","extent":"28:1-57:2|-1|1|0","bases":[],"derived":[],"vars":[0,1,2,3,4],"uses":[],"callees":[]},{"id":1,"usr":13810546336409513565,"detailed_name":"void sifWeightByFrames(int *data, double halflife)","short_name_offset":5,"short_name_size":17,"kind":12,"storage":1,"hover":"","comments":"\n@brief Calculate weights for frames in SIF data based on frame lengths.\nWeights are normalized to have an average of 1.0.\n\n@details Weights are calculated from the simple formula\nweight=(frame duration), if isotope halflife is set to 0, and using formula\nweight=(frame duration)*exp(-t*ln(2)/halflife), if isotope halflife is\ngiven (less weight for late frames, which may be more suitable for \nPET data that is corrected for physical decay).\n\n@sa sifInit, sifRead, sifWrite, sifEmpty, sifWeight, dftWeightByFreq","declarations":[],"spell":"72:6-72:23|-1|1|2","extent":"72:1-97:2|-1|1|0","bases":[],"derived":[],"vars":[5,6,7,8,9],"uses":[],"callees":[]},{"id":2,"usr":12806030041620607173,"detailed_name":"void sifWeightNorm(int *d)","short_name_offset":5,"short_name_size":13,"kind":12,"storage":1,"hover":"","comments":"\nScale weights in SIF data so that average weight is 1.0, and the sum of\nweights equals the nr of frames.\n@sa sifInit, sifRead, sifWrite, sifEmpty, sifWeight, sifWeightByFrames","declarations":[],"spell":"105:6-105:19|-1|1|2","extent":"105:1-116:2|-1|1|0","bases":[],"derived":[],"vars":[10,11,12],"uses":[],"callees":[]},{"id":3,"usr":15416141235631941735,"detailed_name":"void sifModerateTrues(int *sif, double limit)","short_name_offset":5,"short_name_size":16,"kind":12,"storage":1,"hover":"","comments":"\nModerate the trues in SIF. \n\nTrue values in SIF are used to calculate weight factors for time frames.\nIf trues are very low in certain frames, the weight factors in other frames\nmay become very low.\nThis function finds the maximum trues, and adds max/limit to each trues\nvalue, if min trues < max trues / limit.\nNegative trues are always eliminated.\n\n@sa sifWeight, sifModerateWeights, sifRead, sifWrite, sifWeightNorm","declarations":[],"spell":"131:6-131:22|-1|1|2","extent":"131:1-155:2|-1|1|0","bases":[],"derived":[],"vars":[13,14,15,16,17],"uses":[],"callees":[]},{"id":4,"usr":2573080813277448732,"detailed_name":"void sifModerateWeights(int *sif, double limit)","short_name_offset":5,"short_name_size":18,"kind":12,"storage":1,"hover":"","comments":"\nModerate the weights in SIF. \n\nThis function finds the maximum weight, and adds max/limit to each weight\nvalue (except if weight is 0), if min weight < max/limit.\nNegative weights are set to zero.\n\n@sa sifWeight, sifModerateTrues, sifRead, sifWrite, sifWeightNorm","declarations":[],"spell":"167:6-167:24|-1|1|2","extent":"167:1-195:2|-1|1|0","bases":[],"derived":[],"vars":[18,19,20,21,22],"uses":[],"callees":[]},{"id":5,"usr":5589502888073304831,"detailed_name":"int sifExistentCounts(int *sif)","short_name_offset":4,"short_name_size":17,"kind":12,"storage":1,"hover":"","comments":"\nVerify that SIF contains prompts and randoms.\n\n@return Returns 0 if neither prompts or randoms can be found, \n1 or 2 if prompts or randoms can be found, and \n3 if both prompts and randoms are there.\n\n@sa sifInit, sifRead, sifWeight","declarations":[],"spell":"207:5-207:22|-1|1|2","extent":"207:1-227:2|-1|1|0","bases":[],"derived":[],"vars":[23,24,25,26,27,28],"uses":[],"callees":[]}],"vars":[{"id":0,"usr":14619932425429448350,"detailed_name":"int *data","short_name_offset":5,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"30:8-30:12|0|3|2","extent":"30:3-30:12|0|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":1,"usr":10091043776141719126,"detailed_name":"double halflife","short_name_offset":7,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"35:10-35:18|0|3|2","extent":"35:3-35:18|0|3|0","type":1,"uses":["40:48-40:56|0|3|12"],"kind":253,"storage":1},{"id":2,"usr":13374249832191292710,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"37:7-37:8|0|3|2","extent":"37:3-37:8|0|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":3,"usr":1197599643470105946,"detailed_name":"double f","short_name_offset":7,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"38:10-38:11|0|3|2","extent":"38:3-38:11|0|3|0","type":1,"uses":[],"kind":13,"storage":1},{"id":4,"usr":2215413367221947894,"detailed_name":"double d","short_name_offset":7,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"38:13-38:14|0|3|2","extent":"38:3-38:14|0|3|0","type":1,"uses":[],"kind":13,"storage":1},{"id":5,"usr":7642389681971690330,"detailed_name":"int *data","short_name_offset":5,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"74:8-74:12|1|3|2","extent":"74:3-74:12|1|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":6,"usr":2364750060170815238,"detailed_name":"double halflife","short_name_offset":7,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"77:10-77:18|1|3|2","extent":"77:3-77:18|1|3|0","type":1,"uses":["82:56-82:64|1|3|12"],"kind":253,"storage":1},{"id":7,"usr":8791082618888635610,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"79:7-79:8|1|3|2","extent":"79:3-79:8|1|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":8,"usr":6930030712746600991,"detailed_name":"double f","short_name_offset":7,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"80:10-80:11|1|3|2","extent":"80:3-80:11|1|3|0","type":1,"uses":[],"kind":13,"storage":1},{"id":9,"usr":18365881036584146669,"detailed_name":"double d","short_name_offset":7,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"80:13-80:14|1|3|2","extent":"80:3-80:14|1|3|0","type":1,"uses":[],"kind":13,"storage":1},{"id":10,"usr":7527315077378751112,"detailed_name":"int *d","short_name_offset":5,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"107:8-107:9|2|3|2","extent":"107:3-107:9|2|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":11,"usr":10269048308992502444,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"110:7-110:8|2|3|2","extent":"110:3-110:8|2|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":12,"usr":3796928235659373618,"detailed_name":"double f","short_name_offset":7,"short_name_size":1,"hover":"double f=0.0","comments":"","declarations":[],"spell":"111:10-111:11|2|3|2","extent":"111:3-111:15|2|3|0","type":1,"uses":[],"kind":13,"storage":1},{"id":13,"usr":761284048680096080,"detailed_name":"int *sif","short_name_offset":5,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"133:8-133:11|3|3|2","extent":"133:3-133:11|3|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":14,"usr":2073131591579376059,"detailed_name":"double limit","short_name_offset":7,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"135:10-135:15|3|3|2","extent":"135:3-135:15|3|3|0","type":1,"uses":["137:55-137:60|3|3|12","140:6-140:11|3|3|12","148:8-148:13|3|3|12"],"kind":253,"storage":1},{"id":15,"usr":17310366779930259509,"detailed_name":"int fi","short_name_offset":4,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"142:7-142:9|3|3|2","extent":"142:3-142:9|3|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":16,"usr":508635442766045161,"detailed_name":"double w","short_name_offset":7,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"143:10-143:11|3|3|2","extent":"143:3-143:11|3|3|0","type":1,"uses":["148:14-148:15|3|3|12"],"kind":13,"storage":1},{"id":17,"usr":10916020879068616275,"detailed_name":"double f","short_name_offset":7,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"143:13-143:14|3|3|2","extent":"143:3-143:14|3|3|0","type":1,"uses":["148:6-148:7|3|3|12"],"kind":13,"storage":1},{"id":18,"usr":15639393274027663760,"detailed_name":"int *sif","short_name_offset":5,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"169:8-169:11|4|3|2","extent":"169:3-169:11|4|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":19,"usr":10723395174367783460,"detailed_name":"double limit","short_name_offset":7,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"171:10-171:15|4|3|2","extent":"171:3-171:15|4|3|0","type":1,"uses":["173:57-173:62|4|3|12","176:6-176:11|4|3|12","191:8-191:13|4|3|12"],"kind":253,"storage":1},{"id":20,"usr":892447110108986603,"detailed_name":"int fi","short_name_offset":4,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"178:7-178:9|4|3|2","extent":"178:3-178:9|4|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":21,"usr":14770664399175405169,"detailed_name":"double w","short_name_offset":7,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"179:10-179:11|4|3|2","extent":"179:3-179:11|4|3|0","type":1,"uses":["180:3-180:4|4|3|20","189:12-189:13|4|3|12","191:14-191:15|4|3|12"],"kind":13,"storage":1},{"id":22,"usr":15914369164043088191,"detailed_name":"double f","short_name_offset":7,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"179:13-179:14|4|3|2","extent":"179:3-179:14|4|3|0","type":1,"uses":["180:5-180:6|4|3|20","189:24-189:25|4|3|12","191:6-191:7|4|3|12"],"kind":13,"storage":1},{"id":23,"usr":916691767978920301,"detailed_name":"int *sif","short_name_offset":5,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"209:8-209:11|5|3|2","extent":"209:3-209:11|5|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":24,"usr":14980215865915831433,"detailed_name":"int fi","short_name_offset":4,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"211:7-211:9|5|3|2","extent":"211:3-211:9|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":25,"usr":10037780768555580452,"detailed_name":"int p","short_name_offset":4,"short_name_size":1,"hover":"int p=0","comments":"","declarations":[],"spell":"211:11-211:12|5|3|2","extent":"211:3-211:14|5|3|0","type":0,"uses":["216:36-216:37|5|3|20","218:12-218:13|5|3|12","226:10-226:11|5|3|12"],"kind":13,"storage":1},{"id":26,"usr":6670110937606267213,"detailed_name":"int r","short_name_offset":4,"short_name_size":1,"hover":"int r=0","comments":"","declarations":[],"spell":"211:16-211:17|5|3|2","extent":"211:3-211:19|5|3|0","type":0,"uses":["217:36-217:37|5|3|20","218:14-218:15|5|3|12","226:12-226:13|5|3|12"],"kind":13,"storage":1},{"id":27,"usr":2067502611001923717,"detailed_name":"double v1","short_name_offset":7,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"212:10-212:12|5|3|2","extent":"212:3-212:12|5|3|0","type":1,"uses":[],"kind":13,"storage":1},{"id":28,"usr":5469235771662059524,"detailed_name":"double v2","short_name_offset":7,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"212:14-212:16|5|3|2","extent":"212:3-212:16|5|3|0","type":1,"uses":[],"kind":13,"storage":1}]}